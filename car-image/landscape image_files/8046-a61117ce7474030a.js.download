"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8046],{51168:function(e,t,l){l.d(t,{Z:function(){return n}});var i=l(85893),a=l(67294);let s=e=>{var t,l;let{carInfo:s}=e,{hoverData:d,image:o,url:n}=(null==s?void 0:null===(t=s.attributes)||void 0===t?void 0:null===(l=t.reports)||void 0===l?void 0:l["carfax.ca"])||{};return(0,a.useEffect)(()=>{let e=document.getElementById("carfax-ca");for(;e.firstChild;)e.removeChild(e.firstChild);if(!(null==d?void 0:d.html))return;let t=document.createElement("script");t.type="text/javascript",t.src="https://vhrsnapshot.carfax.ca/js/vhrs-external.js",t.onload=()=>{var t;let l=document.createElement("a");l.href=n,l.target="_blank";let i=document.createElement("img");i.src=o,i.alt=null===(t=null==d?void 0:d.html.match(/alt="([^"]+)"/))||void 0===t?void 0:t[1],i.tabIndex=1,i.className="cfc-badge-hover min-h-[52px]",i.setAttribute("data-id",d.id),i.setAttribute("data-language","en"),l.append(i),e.append(l);let a=document.createElement("iframe");a.id="cfc-badge-iframe",a.className="no-edges",a.src="https://vhrsnapshot.carfax.ca/",a.setAttribute("style","z-index: 1002"),a.setAttribute("data-edges","no-edges"),a.setAttribute("data-theme","blue-theme"),a.setAttribute("data-tabindexbetween","2"),a.setAttribute("data-tabindexoffset","1"),e.append(a);let s=new Event("DOMContentLoaded");document.dispatchEvent(s)},e.append(t)},[s]),(0,i.jsx)(i.Fragment,{children:!!(null==d?void 0:d.html)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("link",{rel:"stylesheet",href:"https://vhrsnapshot.carfax.ca/css/vhrs-external.css"}),(0,i.jsx)("div",{id:"carfax-ca"})]})})},d=e=>{var t,l;let{carInfo:s}=e,{image:d,url:o}=(null==s?void 0:null===(t=s.attributes)||void 0===t?void 0:null===(l=t.reports)||void 0===l?void 0:l.carfax)||{};return(0,a.useEffect)(()=>{let e=document.getElementById("carfax");for(;e.firstChild;)e.removeChild(e.firstChild);if(!d||!o)return;let t=document.createElement("script");t.type="text/javascript",t.src="https://snapshot.carfax.com/latest/snapshot.js",t.onload=()=>{let t=document.createElement("a");t.href=o,t.target="_blank";let l=document.createElement("img");l.src=d,l.alt="Show me the Carfax",l.tabIndex=1,l.className="carfax-snapshot-hover min-h-[90px] text-center",l.setAttribute("data-snapshotkey",o.split("/").pop()),t.append(l),e.append(t)},e.append(t)},[s]),(0,i.jsx)("div",{id:"carfax"})},o={CARFAX:"carfax",CARFAX_CA:"carfax.ca",AUTOCHECK:"autocheck"};var n=e=>{var t,l,a,n,r,c;let{report:u,carInfo:v}=e,m=null===(t=null==v?void 0:null===(l=v.attributes)||void 0===l?void 0:l.reports[u])||void 0===t?void 0:t.image;return u===o.CARFAX_CA?(0,i.jsx)(s,{carInfo:v}):"carfax"===u&&m.includes("https")?(0,i.jsx)(d,{carInfo:v}):(0,i.jsx)("a",{href:null===(a=null==v?void 0:null===(n=v.attributes)||void 0===n?void 0:n.reports[u])||void 0===a?void 0:a.url,target:"_blank",children:(0,i.jsx)("img",{className:"cursor-pointer min-h-[41px]",src:null===(r=null==v?void 0:null===(c=v.attributes)||void 0===c?void 0:c.reports[u])||void 0===r?void 0:r.image})})}},18046:function(e,t,l){l.d(t,{P:function(){return b}});var i=l(85893),a=l(29033),s=l(41664),d=l.n(s),o=l(67294),n=l(8193),r=l(63750),c=l(60155),u=l(18726),v=l(54041),m=l(23096),x=l(59183),h=l(95094),p=l(51649);function b(e){var t,l,s,b,f,g,j,N,w,y,C,_,k,z,I,A,E,S,F,P,O,M,R,B,X,q,K,L,T,J,Z,G,H,U,Y,$,D,Q,V,W,ee,et,el,ei,ea,es,ed,eo,en,er,ec,eu,ev,em,ex,eh,ep,eb,ef,eg,ej,eN,ew,ey,eC,e_,ek,ez,eI,eA,eE,eS,eF,eP,eO,eM;let{carInfo:eR={},distance:eB,image:eX,title:eq,price:eK,address:eL,seller:eT,promoted:eJ=!1,isLiked:eZ=!1,onLike:eG,onClick:eH=()=>{},phone:eU,showInquireButton:eY,showDealerLogo:e$,className:eD,titleClass:eQ,href:eV="/"}=e,[eW,e0]=(0,o.useState)(!1),[e1,e2]=(0,o.useState)(0),{currency:e3,currencySymbols:e5,currencyRates:e4}=(0,o.useContext)(m.R),e6=(0,h.Hh)("token"),[e8,e9]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{e0(eZ)},[eZ]),(0,i.jsxs)("div",{onClick:()=>{var e,t;(null==eR?void 0:null===(e=eR.attributes)||void 0===e?void 0:e.statusCode)!=="completed"||(null==eR?void 0:null===(t=eR.attributes)||void 0===t?void 0:t.lock)||eH()},className:(0,a.AK)("h-full font-sans group relative",eD),children:[(0,i.jsxs)("div",{className:"flex flex-col border border-1 h-full border-[#ebebeb] rounded-sm p-[8px] group-hover:shadow-[0_4px_24px_rgba(0,0,0,0.2)]",children:[(0,i.jsxs)("div",{className:"relative group w-full h-[185px] md:h-[185px] rounded-sm overflow-hidden",children:[(null==eR?void 0:null===(t=eR.attributes)||void 0===t?void 0:t.certified)&&(null===(l=eR.attributes.car_brand)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:null===(b=s.attributes)||void 0===b?void 0:b.name)&&(0,i.jsx)("div",{className:"absolute z-30 top-3 left-2 w-[70px]",children:(0,i.jsx)(v.tJ,{carBrand:eR.attributes.car_brand.data.attributes.name,children:(0,i.jsx)("img",{src:"/img/Icon/cpoIcon.png",alt:"Certified Pre-Owned",className:"w-full h-auto"})})}),(null==eR?void 0:null===(f=eR.attributes)||void 0===f?void 0:null===(g=f.dealer)||void 0===g?void 0:null===(j=g.data)||void 0===j?void 0:null===(N=j.attributes)||void 0===N?void 0:null===(w=N.package_subscriptions)||void 0===w?void 0:null===(y=w.data)||void 0===y?void 0:null===(C=y[0])||void 0===C?void 0:null===(_=C.attributes)||void 0===_?void 0:_.enabled)&&(0,i.jsx)(d(),{href:"/dealer/get-started",className:"absolute top-3 right-2 z-50",children:(0,i.jsx)("img",{className:"w-[40px]",src:"/img/premier-badge.png"})}),eX.length>1&&(0,i.jsxs)(d(),{href:eV,className:"hidden lg:flex invisible group-hover:visible absolute top-0 left-0  w-full h-full bg-gradient-to-t from-[rgba(0,0,0,0.35)] to-transparent z-20",children:[eX.map((e,t)=>(0,i.jsx)("div",{onMouseEnter:()=>e2(t),style:{width:"".concat(100/eX.length,"%"),height:"100%"}},"image-".concat(t))),(0,i.jsx)("div",{className:"absolute bottom-0 p-2 w-full flex gap-1.5 justify-center items-end",children:eX.map((e,t)=>(0,i.jsx)("div",{style:{width:"".concat(100/eX.length,"%")},className:(0,a.AK)(" h-[2px] rounded-full cursor-pointer",t===e1?"bg-main":"bg-white")},"image-paginate-".concat(t)))})]}),(0,i.jsx)(d(),{href:eV,children:(0,i.jsx)("img",{className:"w-full h-full -z-10 select-none object-cover",src:0!==eX.length?(eX[e1]||eX[0]).src:"/img/preview_placeholder3x.png",alt:eq})})]}),(0,i.jsxs)("div",{className:"mb-[0px]",children:[eJ&&(0,i.jsxs)("div",{className:"my-4 py-1 px-4 flex gap-1 items-center justify-center bg-core rounded-md w-[110px]",children:[(0,i.jsx)(r.RrZ,{className:"text-white text-size-lg"}),(0,i.jsx)("p",{className:"text-size-sm text-white",children:"Featured"})]}),(0,i.jsxs)("div",{className:"flex items-center".concat(eQ),children:[(0,i.jsx)(d(),{href:eV,className:"flex-1 min-w-0",children:(0,i.jsx)("h2",{className:"mt-0 text-size-lg font-bold",children:eq})}),eW?(0,i.jsx)(n.M_L,{className:"text-core w-[25px] h-[25px] cursor-pointer",onClick:e=>{e.stopPropagation(),(0,a.bK)(eR,eG,e6,e0)}}):(0,i.jsx)(n.lo,{className:"text-core w-[25px] h-[25px] cursor-pointer",onClick:e=>{e.stopPropagation(),e6?(0,a.Bd)(eR,e6,e0,eG):e9(!0)}})]}),(0,i.jsxs)("h3",{className:"mt-3 text-xl font-bold",children:[(0,a.oJ)(e3,e5[e3],null==eR?void 0:null===(k=eR.attributes)||void 0===k?void 0:k.currency,e4,eK,null==eR?void 0:null===(z=eR.attributes)||void 0===z?void 0:z.specialPrice,null==eR?void 0:null===(I=eR.attributes)||void 0===I?void 0:null===(A=I.car_price_status)||void 0===A?void 0:null===(E=A.data)||void 0===E?void 0:null===(S=E.attributes)||void 0===S?void 0:S.name)," ",!!(null==eR?void 0:null===(F=eR.attributes)||void 0===F?void 0:F.specialPrice)&&(0,i.jsx)(p.vBA,{title:"Recent price drop!",className:"text-core text-2xl p-0 inline-flex"})]}),eB?(0,i.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,i.jsx)(c.aXo,{className:"text-core text-2xl p-0"}),(0,i.jsx)("div",{className:"text-size-lg",children:(0,i.jsx)(v.YP,{mileage:null==eR?void 0:null===(P=eR.attributes)||void 0===P?void 0:P.mileage,kilometers:null==eR?void 0:null===(O=eR.attributes)||void 0===O?void 0:O.km})})]}):null,(eL||eT)&&(0,i.jsx)("div",{className:"my-4 flex justify-between items-center",children:(0,i.jsxs)("div",{children:[eT&&(0,i.jsx)("p",{className:"text-size-md md:text-size-lg leading-none ",children:eT}),eL&&(0,i.jsx)("p",{className:"text-size-sm pt-1",children:eL})]})})]}),e$&&(null==eR?void 0:null===(M=eR.attributes)||void 0===M?void 0:null===(R=M.dealer)||void 0===R?void 0:null===(B=R.data)||void 0===B?void 0:null===(X=B.attributes)||void 0===X?void 0:null===(q=X.logo)||void 0===q?void 0:null===(K=q.data)||void 0===K?void 0:null===(L=K.attributes)||void 0===L?void 0:L.url)&&(0,i.jsx)("img",{className:"w-full max-w-[133px] mt-auto select-none",src:null==eR?void 0:null===(T=eR.attributes)||void 0===T?void 0:null===(J=T.dealer)||void 0===J?void 0:null===(Z=J.data)||void 0===Z?void 0:null===(G=Z.attributes)||void 0===G?void 0:null===(H=G.logo)||void 0===H?void 0:null===(U=H.data)||void 0===U?void 0:null===(Y=U.attributes)||void 0===Y?void 0:Y.url}),eY&&!e$&&(0,i.jsxs)("div",{className:"flex items-center mt-auto w-full flex-wrap bg-white  gap-2 z-30 rounded-b-sm",children:[(0,i.jsx)(v.ge,{carInfo:eR,className:"px-2 !py-2 !text-size-sm font-normal border-transparent bg-main !text-white w-[35%]",children:"Inquire"}),eU&&(0,i.jsx)("a",{href:"tel:".concat(eU),className:"w-[60%]",children:(0,i.jsx)(u.z,{className:"w-full px-2 !py-2 !text-size-sm font-normal border-none bg-secondary-300 !text-black",children:eU})})]})]}),(0,i.jsx)(x.X,{isOpenFollowCarModal:e8,setIsOpenFollowCarModal:e9,setLiked:e0,href:eV,onLike:eG,carInfo:eR,address:"".concat((0,a.Kn)(eR,["city","state","country"])),seller:(null==eR?void 0:null===($=eR.attributes)||void 0===$?void 0:null===(D=$.dealer)||void 0===D?void 0:null===(Q=D.data)||void 0===Q?void 0:null===(V=Q.attributes)||void 0===V?void 0:V.name)||"",distance:(null==eR?void 0:null===(W=eR.attributes)||void 0===W?void 0:W.mileage)||0,images:(0,a.Ed)((null===(ee=eR.attributes)||void 0===ee?void 0:null===(et=ee.photos)||void 0===et?void 0:et.data)||[],"small",10),title:"".concat(null==eR?void 0:null===(el=eR.attributes)||void 0===el?void 0:el.year," ").concat((null==eR?void 0:null===(ei=eR.attributes)||void 0===ei?void 0:null===(ea=ei.car_brand)||void 0===ea?void 0:null===(es=ea.data)||void 0===es?void 0:null===(ed=es.attributes)||void 0===ed?void 0:ed.name)||""," ").concat((null==eR?void 0:null===(eo=eR.attributes)||void 0===eo?void 0:null===(en=eo.car_model)||void 0===en?void 0:null===(er=en.data)||void 0===er?void 0:null===(ec=er.attributes)||void 0===ec?void 0:ec.name)||""),price:(null==eR?void 0:null===(eu=eR.attributes)||void 0===eu?void 0:eu.price)||(null==eR?void 0:null===(ev=eR.attributes)||void 0===ev?void 0:null===(em=ev.car_price_status)||void 0===em?void 0:null===(ex=em.data)||void 0===ex?void 0:null===(eh=ex.attributes)||void 0===eh?void 0:eh.name)||0,phone:(null==eR?void 0:null===(ep=eR.attributes)||void 0===ep?void 0:null===(eb=ep.contact_info)||void 0===eb?void 0:null===(ef=eb.data)||void 0===ef?void 0:null===(eg=ef.attributes)||void 0===eg?void 0:eg.phone)||0!==((null==eR?void 0:null===(ej=eR.attributes)||void 0===ej?void 0:null===(eN=ej.dealer)||void 0===eN?void 0:null===(ew=eN.data)||void 0===ew?void 0:null===(ey=ew.attributes)||void 0===ey?void 0:null===(eC=ey.dealer_locations)||void 0===eC?void 0:eC.data)||[]).length&&(null===(e_=null==eR?void 0:null===(ek=eR.attributes)||void 0===ek?void 0:null===(ez=ek.dealer)||void 0===ez?void 0:null===(eI=ez.data)||void 0===eI?void 0:null===(eA=eI.attributes)||void 0===eA?void 0:null===(eE=eA.dealer_locations)||void 0===eE?void 0:eE.data[0])||void 0===e_?void 0:null===(eS=e_.attributes)||void 0===eS?void 0:eS.phone)||(null==eR?void 0:null===(eF=eR.attributes)||void 0===eF?void 0:null===(eP=eF.dealer)||void 0===eP?void 0:null===(eO=eP.data)||void 0===eO?void 0:null===(eM=eO.attributes)||void 0===eM?void 0:eM.phone)||""})]})}},59183:function(e,t,l){l.d(t,{X:function(){return _}});var i=l(85893),a=l(54041),s=l(97281),d=l.n(s),o=l(74014),n=l.n(o),r=l(23429),c=l(67294),u=l(29033),v=l(8193),m=l(60155),x=l(23096),h=l(51168),p=l(86426),b=l(87536),f=l(90617),g=l(56312),j=l(15179),N=l(61139),w=l(41664),y=l.n(w),C=l(51649);let _=e=>{var t,l,s,o,w,_,k,z,I;let{isOpenFollowCarModal:A,setIsOpenFollowCarModal:E,setLiked:S,onLike:F,carInfo:P,images:O,title:M,price:R,distance:B,phone:X,address:q,seller:K,href:L="/"}=e,{currency:T,currencySymbols:J,currencyRates:Z}=(0,c.useContext)(x.R),{handleSubmit:G,register:H,reset:U,formState:{errors:Y}}=(0,b.cI)({resolver:(0,g.F)(f.c$)}),[$,D]=(0,c.useState)(!1),{refresh:Q}=(0,c.useContext)(j._),[V,W]=(0,c.useState)(!1),ee=()=>{E(!1),U()},et=e=>ee(),el=e=>{(0,u.sv)(e,()=>Q()),ei({carId:null==P?void 0:P.id},S,F,e)},ei=(e,t,l,i)=>{e.carId&&(fetch("/api/v1/subscribe/notification",{method:"POST",body:JSON.stringify(e),...i&&{headers:{Authentication:"Bearer ".concat(i)}}}).then(e=>e.json()).then(e=>{var i;(null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.id)&&(t(!0),l())}).catch(e=>{}),ee())},ea=e=>{D(!0),ei({carId:null==P?void 0:P.id,...e},S,F),D(!1)},es=(0,p.Nq)({onSuccess:e=>{(0,u.Av)("google",e,et,el)},flow:"implicit"});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.u_,{isOpen:A,width:800,onClose:()=>ee(),children:[(0,i.jsx)(r.V.Title,{className:"text-xl font-semibold text-gray-900 dark:text-white py-3",children:"Sign Up - Follow This Car"}),(0,i.jsxs)("div",{className:"grid grid-rows-2 md:grid-rows-1 grid-cols-1 md:grid-cols-2 gap-x-10 font-sans ".concat(d().variable," ").concat(n().variable),children:[(0,i.jsxs)("div",{className:"row-start-2 md:col-start-1 flex flex-col border border-1 h-full border-[#ebebeb] rounded-sm p-[8px]",children:[(0,i.jsx)("div",{className:"relative w-full h-[185px] md:h-[185px] rounded-sm overflow-hidden",children:(0,i.jsx)(y(),{href:L,children:(0,i.jsx)("img",{className:"w-full h-full -z-10 select-none object-cover",src:0!==O.length?O[0].src:"/img/preview_placeholder3x.png",alt:M})})}),(0,i.jsxs)("div",{className:"mb-[0px]",children:[(0,i.jsx)(y(),{href:L,children:(0,i.jsx)("h2",{className:"mt-6 text-size-lg font-bold",children:M})}),(0,i.jsxs)("h3",{className:"mt-3 text-xl font-bold",children:[(0,u.oJ)(T,J[T],null==P?void 0:null===(t=P.attributes)||void 0===t?void 0:t.currency,Z,R,null==P?void 0:null===(l=P.attributes)||void 0===l?void 0:l.specialPrice,null==P?void 0:null===(s=P.attributes)||void 0===s?void 0:null===(o=s.car_price_status)||void 0===o?void 0:null===(w=o.data)||void 0===w?void 0:null===(_=w.attributes)||void 0===_?void 0:_.name)," ",!!(null==P?void 0:null===(k=P.attributes)||void 0===k?void 0:k.specialPrice)&&(0,i.jsx)(C.vBA,{title:"Recent price drop!",className:"text-core text-2xl p-0 inline-flex"})]}),B?(0,i.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,i.jsx)(m.aXo,{className:"text-core text-2xl p-0"}),(0,i.jsx)("div",{className:"text-size-lg",children:(0,i.jsx)(a.YP,{mileage:B,kilometers:null==P?void 0:P.attributes.km})})]}):null,(q||K)&&(0,i.jsx)("div",{className:"mt-3 flex justify-between items-center",children:(0,i.jsxs)("div",{children:[K&&(0,i.jsx)("p",{className:"text-size-md md:text-size-lg leading-none ",children:K}),q&&(0,i.jsx)("p",{className:"text-size-sm pt-1",children:q})]})}),(0,i.jsx)("div",{className:"mt-3",children:Object.keys((null==P?void 0:null===(z=P.attributes)||void 0===z?void 0:z.reports)||{}).map((e,t)=>(0,i.jsx)("div",{className:"flex justify-end",children:(0,i.jsx)(h.Z,{report:e,carInfo:P})},t))})]}),(0,i.jsxs)("div",{className:"flex items-center mt-auto w-full flex-wrap bg-white gap-2 z-30 rounded-b-sm",children:[(0,i.jsx)("button",{onClick:e=>{e.stopPropagation(),E(!1),W(!0)},type:"button",className:"items-center gap-2 rounded-sm border border-main bg-main text-white hover:opacity-80 focus:outline-none group rtl:rotate-180 flex justify-center font-normal transition-default border-transparent w-[35%] px-2 py-2 text-size-sm",children:"Inquire"}),X&&(0,i.jsx)("a",{href:"tel:".concat(X),className:"w-[60%]",children:(0,i.jsx)(a.zx,{className:"w-full px-2 !py-2 !text-size-sm font-normal border-none bg-secondary-300 !text-black",children:X})})]})]}),(0,i.jsxs)("div",{className:"row-start-1 md:row-start-2",children:[(0,i.jsxs)("div",{className:"mt-10 flex items-start",children:[(0,i.jsx)(v.M_L,{className:"text-core w-5 h-5"}),(0,i.jsx)("span",{className:"ml-2 text-sm",children:"Quickly Find and review your followed cars from any device"})]}),(0,i.jsxs)("div",{className:"mt-3 flex items-start",children:[(0,i.jsx)(v.fu8,{className:"text-core w-5 h-5"}),(0,i.jsx)("span",{className:"ml-2 text-sm",children:"Get price change and sold car alerts"})]}),(0,i.jsxs)("div",{className:"mt-3 flex items-start",children:[(0,i.jsx)(v.q2x,{className:"text-core w-5 h-5"}),(0,i.jsx)("span",{className:"ml-2 text-sm",children:"Suggestions for other cars you might like"})]}),(0,i.jsxs)(a.zx,{className:"h-[44px] !text-[13px] !font-bold w-full mt-10",onClick:()=>es(),children:[(0,i.jsx)("img",{className:"w-[24px]",src:"/img/google.png",alt:"google"}),"Sign up with Google"]}),(0,i.jsx)("div",{className:"flex justify-center font-sans ".concat(d().variable," ").concat(n().variable),children:(0,i.jsx)("span",{children:"or"})}),(0,i.jsxs)("form",{onSubmit:G(ea),children:[(0,i.jsx)(a.II,{inputClass:"h-[44px]",type:"email",placeholder:"Enter your Email",...H("email"),error:null===(I=Y.email)||void 0===I?void 0:I.message,className:"mt-1"}),(0,i.jsx)(a.zx,{type:"submit",className:"mt-1 h-[44px] !text-[13px] !font-bold w-full",disabled:$,children:$?(0,i.jsx)(a.$j,{size:4}):"Follow This Car"})]})]})]})]}),(0,i.jsx)(N.b,{isOpenInquiryModal:V,setIsOpenInquiryModal:W,carInfo:P})]})}}}]);