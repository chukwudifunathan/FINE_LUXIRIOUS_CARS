(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3942],{9413:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/autos",function(){return l(34659)}])},52845:function(e,t,l){"use strict";l.d(t,{Z:function(){return Q}});var a,n,r,i=l(85893),o=l(29033),s=l(67294),u=l(32984),c=l(12351),d=l(9362),v=l(94192),m=l(16723),p=l(23784),f=l(19946),x=l(61363),b=l(11497),h=l(64103),g=l(84575),y=l(39650),I=l(15466),R=l(16567),w=l(14157),j=l(51074),S=l(73781),_=l(40476),N=((a=N||{})[a.Open=0]="Open",a[a.Closed=1]="Closed",a),T=((n=T||{})[n.Pointer=0]="Pointer",n[n.Other=1]="Other",n),C=((r=C||{})[r.OpenMenu=0]="OpenMenu",r[r.CloseMenu=1]="CloseMenu",r[r.GoToItem=2]="GoToItem",r[r.Search=3]="Search",r[r.ClearSearch=4]="ClearSearch",r[r.RegisterItem=5]="RegisterItem",r[r.UnregisterItem=6]="UnregisterItem",r);function P(e,t=e=>e){let l=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,a=(0,g.z2)(t(e.items.slice()),e=>e.dataRef.current.domRef.current),n=l?a.indexOf(l):null;return -1===n&&(n=null),{items:a,activeItemIndex:n}}let k={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,menuState:0},2:(e,t)=>{var l;let a=P(e),n=(0,b.d)(t,{resolveItems:()=>a.items,resolveActiveIndex:()=>a.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...a,searchQuery:"",activeItemIndex:n,activationTrigger:null!=(l=t.trigger)?l:1}},3:(e,t)=>{let l=""!==e.searchQuery?0:1,a=e.searchQuery+t.value.toLowerCase(),n=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+l).concat(e.items.slice(0,e.activeItemIndex+l)):e.items).find(e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(a))&&!e.dataRef.current.disabled}),r=n?e.items.indexOf(n):-1;return -1===r||r===e.activeItemIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeItemIndex:r,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let l=P(e,e=>[...e,{id:t.id,dataRef:t.dataRef}]);return{...e,...l}},6:(e,t)=>{let l=P(e,e=>{let l=e.findIndex(e=>e.id===t.id);return -1!==l&&e.splice(l,1),e});return{...e,...l,activationTrigger:1}}},M=(0,s.createContext)(null);function E(e){let t=(0,s.useContext)(M);if(null===t){let t=Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,E),t}return t}function z(e,t){return(0,u.E)(t.type,k,e,t)}M.displayName="MenuContext";let D=s.Fragment,F=c.AN.RenderStrategy|c.AN.Static,O=s.Fragment,A=Object.assign((0,c.yV)(function(e,t){let l=(0,s.useReducer)(z,{menuState:1,buttonRef:(0,s.createRef)(),itemsRef:(0,s.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:a,itemsRef:n,buttonRef:r},i]=l,o=(0,p.T)(t);(0,y.O)([r,n],(e,t)=>{var l;i({type:1}),(0,g.sP)(t,g.tJ.Loose)||(e.preventDefault(),null==(l=r.current)||l.focus())},0===a);let d=(0,S.z)(()=>{i({type:1})}),v=(0,s.useMemo)(()=>({open:0===a,close:d}),[a,d]);return s.createElement(M.Provider,{value:l},s.createElement(R.up,{value:(0,u.E)(a,{0:R.ZM.Open,1:R.ZM.Closed})},(0,c.sY)({ourProps:{ref:o},theirProps:e,slot:v,defaultTag:D,name:"Menu"})))}),{Button:(0,c.yV)(function(e,t){var l;let a=(0,f.M)(),{id:n=`headlessui-menu-button-${a}`,...r}=e,[i,o]=E("Menu.Button"),u=(0,p.T)(i.buttonRef,t),d=(0,v.G)(),m=(0,S.z)(e=>{switch(e.key){case x.R.Space:case x.R.Enter:case x.R.ArrowDown:e.preventDefault(),e.stopPropagation(),o({type:0}),d.nextFrame(()=>o({type:2,focus:b.T.First}));break;case x.R.ArrowUp:e.preventDefault(),e.stopPropagation(),o({type:0}),d.nextFrame(()=>o({type:2,focus:b.T.Last}))}}),g=(0,S.z)(e=>{e.key===x.R.Space&&e.preventDefault()}),y=(0,S.z)(t=>{if((0,h.P)(t.currentTarget))return t.preventDefault();e.disabled||(0===i.menuState?(o({type:1}),d.nextFrame(()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})})):(t.preventDefault(),o({type:0})))}),I=(0,s.useMemo)(()=>({open:0===i.menuState}),[i]),R={ref:u,id:n,type:(0,w.f)(e,i.buttonRef),"aria-haspopup":"menu","aria-controls":null==(l=i.itemsRef.current)?void 0:l.id,"aria-expanded":e.disabled?void 0:0===i.menuState,onKeyDown:m,onKeyUp:g,onClick:y};return(0,c.sY)({ourProps:R,theirProps:r,slot:I,defaultTag:"button",name:"Menu.Button"})}),Items:(0,c.yV)(function(e,t){var l,a;let n=(0,f.M)(),{id:r=`headlessui-menu-items-${n}`,...i}=e,[o,u]=E("Menu.Items"),h=(0,p.T)(o.itemsRef,t),y=(0,j.i)(o.itemsRef),w=(0,v.G)(),_=(0,R.oJ)(),N=null!==_?(_&R.ZM.Open)===R.ZM.Open:0===o.menuState;(0,s.useEffect)(()=>{let e=o.itemsRef.current;e&&0===o.menuState&&e!==(null==y?void 0:y.activeElement)&&e.focus({preventScroll:!0})},[o.menuState,o.itemsRef,y]),function({container:e,accept:t,walk:l,enabled:a=!0}){let n=(0,s.useRef)(t),r=(0,s.useRef)(l);(0,s.useEffect)(()=>{n.current=t,r.current=l},[t,l]),(0,m.e)(()=>{if(!e||!a)return;let t=(0,I.r)(e);if(!t)return;let l=n.current,i=r.current,o=Object.assign(e=>l(e),{acceptNode:l}),s=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,o,!1);for(;s.nextNode();)i(s.currentNode)},[e,a,n,r])}({container:o.itemsRef.current,enabled:0===o.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let T=(0,S.z)(e=>{var t,l;switch(w.dispose(),e.key){case x.R.Space:if(""!==o.searchQuery)return e.preventDefault(),e.stopPropagation(),u({type:3,value:e.key});case x.R.Enter:if(e.preventDefault(),e.stopPropagation(),u({type:1}),null!==o.activeItemIndex){let{dataRef:e}=o.items[o.activeItemIndex];null==(l=null==(t=e.current)?void 0:t.domRef.current)||l.click()}(0,g.wI)(o.buttonRef.current);break;case x.R.ArrowDown:return e.preventDefault(),e.stopPropagation(),u({type:2,focus:b.T.Next});case x.R.ArrowUp:return e.preventDefault(),e.stopPropagation(),u({type:2,focus:b.T.Previous});case x.R.Home:case x.R.PageUp:return e.preventDefault(),e.stopPropagation(),u({type:2,focus:b.T.First});case x.R.End:case x.R.PageDown:return e.preventDefault(),e.stopPropagation(),u({type:2,focus:b.T.Last});case x.R.Escape:e.preventDefault(),e.stopPropagation(),u({type:1}),(0,d.k)().nextFrame(()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})});break;case x.R.Tab:e.preventDefault(),e.stopPropagation(),u({type:1}),(0,d.k)().nextFrame(()=>{(0,g.EO)(o.buttonRef.current,e.shiftKey?g.TO.Previous:g.TO.Next)});break;default:1===e.key.length&&(u({type:3,value:e.key}),w.setTimeout(()=>u({type:4}),350))}}),C=(0,S.z)(e=>{e.key===x.R.Space&&e.preventDefault()}),P=(0,s.useMemo)(()=>({open:0===o.menuState}),[o]),k={"aria-activedescendant":null===o.activeItemIndex||null==(l=o.items[o.activeItemIndex])?void 0:l.id,"aria-labelledby":null==(a=o.buttonRef.current)?void 0:a.id,id:r,onKeyDown:T,onKeyUp:C,role:"menu",tabIndex:0,ref:h};return(0,c.sY)({ourProps:k,theirProps:i,slot:P,defaultTag:"div",features:F,visible:N,name:"Menu.Items"})}),Item:(0,c.yV)(function(e,t){let l=(0,f.M)(),{id:a=`headlessui-menu-item-${l}`,disabled:n=!1,...r}=e,[i,o]=E("Menu.Item"),u=null!==i.activeItemIndex&&i.items[i.activeItemIndex].id===a,v=(0,s.useRef)(null),x=(0,p.T)(t,v);(0,m.e)(()=>{if(0!==i.menuState||!u||0===i.activationTrigger)return;let e=(0,d.k)();return e.requestAnimationFrame(()=>{var e,t;null==(t=null==(e=v.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})}),e.dispose},[v,u,i.menuState,i.activationTrigger,i.activeItemIndex]);let h=(0,s.useRef)({disabled:n,domRef:v});(0,m.e)(()=>{h.current.disabled=n},[h,n]),(0,m.e)(()=>{var e,t;h.current.textValue=null==(t=null==(e=v.current)?void 0:e.textContent)?void 0:t.toLowerCase()},[h,v]),(0,m.e)(()=>(o({type:5,id:a,dataRef:h}),()=>o({type:6,id:a})),[h,a]);let y=(0,S.z)(()=>{o({type:1})}),I=(0,S.z)(e=>{if(n)return e.preventDefault();o({type:1}),(0,g.wI)(i.buttonRef.current)}),R=(0,S.z)(()=>{if(n)return o({type:2,focus:b.T.Nothing});o({type:2,focus:b.T.Specific,id:a})}),w=(0,_.g)(),j=(0,S.z)(e=>w.update(e)),N=(0,S.z)(e=>{w.wasMoved(e)&&(n||u||o({type:2,focus:b.T.Specific,id:a,trigger:0}))}),T=(0,S.z)(e=>{w.wasMoved(e)&&(n||u&&o({type:2,focus:b.T.Nothing}))}),C=(0,s.useMemo)(()=>({active:u,disabled:n,close:y}),[u,n,y]);return(0,c.sY)({ourProps:{id:a,ref:x,role:"menuitem",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,disabled:void 0,onClick:I,onFocus:R,onPointerEnter:j,onMouseEnter:j,onPointerMove:N,onMouseMove:N,onPointerLeave:T,onMouseLeave:T},theirProps:r,slot:C,defaultTag:O,name:"Menu.Item"})})});var V=l(44080),L=l(53854),K=l(51491);function Q(e){let{firstLabel:t,secondLabel:l,firstValues:a=[],secondValues:n=[],firstSelectValue:r={},secondSelectValue:u={},disabled:c=!1,hideIcon:d,labelClass:v,icon:m,label:p,iconClass:f,onFirstSelect:x=()=>{},onSecondSelect:b=()=>{},onInitData:h=()=>{}}=e;return(0,i.jsx)(A,{as:"div",className:"relative",children:e=>{let{open:g}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(A.Button,{className:(0,o.AK)("relative w-full cursor-pointer text-sm bg-white text-black h-[44px] flex justify-between items-center rounded-sm py-size-md px-size-sm text-left outline-none leading-6 transition-default",c?"!bg-gray-500/40":""),children:[(0,i.jsxs)("span",{className:(0,o.AK)("block truncate text-sm",v,"text-black",c?"!text-white":""),children:[m,r.label||u.label?"".concat(r.label||t,"-").concat(u.label||l):p]}),d||r.value||u.value?null:g?(0,i.jsx)(L.lVW,{className:(0,o.AK)("h-4 w-4 text-main",f)}):(0,i.jsx)(L.kzR,{className:(0,o.AK)("h-4 w-4 text-main",f)}),(r.value||u.value)&&(0,i.jsx)(L.fMW,{className:(0,o.AK)("h-4 w-4 text-main",f),onClick:e=>{e.stopPropagation(),h()}})]}),(0,i.jsx)(V.u,{as:s.Fragment,enter:"transition ease-in duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)(A.Items,{className:"absolute z-10 mt-2 w-full sm:w-auto rounded-md p-2 bg-white border-1 border-solid border-secondary-700",children:(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row w-full gap-5",children:[(0,i.jsx)(A.Item,{children:(0,i.jsx)(K.P,{values:a,label:"".concat(t),defaultValue:r,selectClass:"!bg-white h-[44px] sm:w-[220px] border border-solid border-secondary-700",labelClass:"!text-black !text-sm",iconClass:"!text-main",onSelect:e=>x(e)})}),(0,i.jsx)(A.Item,{children:(0,i.jsx)(K.P,{values:n,label:"".concat(l),defaultValue:u,selectClass:"!bg-white h-[44px] sm:w-[220px] border border-solid border-secondary-700",labelClass:"!text-black !text-sm",iconClass:"!text-main",onSelect:e=>b(e)})})]})})})]})}})}},34659:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSP:function(){return g},default:function(){return y}});var a=l(85893),n=l(67294),r=l(11163),i=l(69274),o=l(55788),s=l(54041),u=l(52845),c=l(99937),d=l(29033),v=l(10370),m=l(41664),p=l.n(m);let f=(e,t)=>t.replace(":alias:",e);function x(e){let{aggregates:t,title:l,url:n}=e;return t.length>=4?(0,a.jsxs)("section",{className:"pb-[80px] flex gap-16 md:gap-24 flex-col",children:[(0,a.jsx)("h1",{className:"text-center text-size-xl lg:text-size-2xl font-bold font-stix",children:l}),(0,a.jsx)("div",{className:"grid gap-x-10 md:gap-x-24 gap-y-8 grid-cols-2 md:grid-cols-4",children:(t.length%4==0?t:t.slice(0,-(t.length%4))).map(e=>(0,a.jsx)(p(),{href:f(e.alias,n),className:"group",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-size-md text-[#909090] group-hover:underline font-medium",children:e.name}),(0,a.jsx)("span",{className:"text-size-md text-[#909090]",children:"".concat(e.count," Listings")})]})},e.alias))})]}):null}var b=l(47478);let h=e=>{var t,l,m,p,f,h,g;let{carBrands:y,pageInfo:I,topMakes:R,topModels:w,topCities:j}=e,{isGoogleMapsApiLoaded:S}=(0,n.useContext)(b.f),_=(0,r.useRouter)(),[N,T]=(0,n.useState)({}),[C,P]=(0,n.useState)({location:{},brand:{},model:{},min_price:{},max_price:{}});(0,n.useEffect)(()=>{var e,t;(null==C?void 0:null===(e=C.brand)||void 0===e?void 0:e.value)?fetch("/api/v1/car/models",{method:"POST",body:JSON.stringify({brandAlias:null==C?void 0:null===(t=C.brand)||void 0===t?void 0:t.value})}).then(function(e){return e.json()}).then(function(e){C.model={},P({...C}),T(e?(0,d.I_)(e):{})}).catch(e=>{T({})}):(C.model={},P({...C}))},[null==C?void 0:C.brand]);let k=()=>{var e,t,l,a;let n="filter:";Object.keys(C).map(e=>{"location"===e&&C.location.value?n+="".concat("filter:"===n?"":"&","location=").concat(C.location.value):"max_price"===e&&(C.min_price.value||C.max_price.value)&&(n+="".concat("filter:"===n?"":"&","price=").concat(C.min_price.value||"lowest",":").concat(C.max_price.value||"highest"))}),"filter:"!==n?_.push("/autos/results/".concat((null==C?void 0:null===(e=C.brand)||void 0===e?void 0:e.value)||"all","/").concat((null==C?void 0:null===(t=C.model)||void 0===t?void 0:t.value)||"all","/").concat(n)):_.push("/autos/results/".concat((null==C?void 0:null===(l=C.brand)||void 0===l?void 0:l.value)||"all","/").concat((null==C?void 0:null===(a=C.model)||void 0===a?void 0:a.value)||"all"))},M=(e,t,l)=>{"year"===l?(C.min_year={},C.max_year={}):"price"===l?(C.min_price={},C.max_price={}):C[e]=t,P({...C})};return(0,a.jsxs)(v.Zn,{bgInitial:"bg-black",children:[(0,a.jsx)(s.h_,{pageInfo:I}),(0,a.jsx)(c.Zl,{imageSrc:(null==I?void 0:null===(t=I.data)||void 0===t?void 0:null===(l=t.attributes)||void 0===l?void 0:null===(m=l.Hero)||void 0===m?void 0:null===(p=m.bannerImage)||void 0===p?void 0:null===(f=p.data)||void 0===f?void 0:null===(h=f.attributes)||void 0===h?void 0:h.url)||"",imgAlt:"MPH Banner",className:"!min-h-full",children:(0,a.jsx)("div",{className:"xl:mt-32 xl:mb-0 mt-[180px] mb-6 w-full",children:(0,a.jsx)("div",{className:"main-container w-full",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-[1fr_1fr_1fr_1fr_1fr] gap-5",children:[(0,a.jsx)("div",{className:"col-span-2 md:col-span-1",children:(0,a.jsx)(s.Ph,{values:[...((null==y?void 0:y.data)||[]).filter(e=>{var t;return null==e?void 0:null===(t=e.attributes)||void 0===t?void 0:t.carCount})].map(e=>{var t,l,a;return{label:"".concat(null==e?void 0:null===(t=e.attributes)||void 0===t?void 0:t.name," (").concat((null==e?void 0:null===(l=e.attributes)||void 0===l?void 0:l.carCount)||0,")"),value:e.attributes.alias,value2:(null==e?void 0:null===(a=e.attributes)||void 0===a?void 0:a.carCount)||0}}),defaultValue:(null==C?void 0:C.brand)||{},label:"All Makes",selectClass:"!bg-white h-[44px]",labelClass:"!text-black !text-sm",iconClass:"!text-main",onSelect:e=>{C.model={},M("brand",e)}})}),(0,a.jsx)("div",{className:"col-span-2 md:col-span-1",children:(0,a.jsx)(s.Ph,{values:[...(null==N?void 0:N.data)||[]].map(e=>{var t;return{label:null==e?void 0:null===(t=e.attributes)||void 0===t?void 0:t.name,value:e.attributes.alias}}),defaultValue:(null==C?void 0:C.model)||{},label:"All Models",selectClass:"bg-white h-[44px]",labelClass:"!text-black !text-sm",iconClass:"!text-main",onSelect:e=>{M("model",e)},disabled:!(null==C?void 0:null===(g=C.brand)||void 0===g?void 0:g.value)})}),(0,a.jsx)("div",{className:"col-span-2 md:col-span-1",children:(0,a.jsx)(u.Z,{label:"Price",firstLabel:"Lowest",secondLabel:"Highest",firstValues:(0,d.bG)().firstValues.filter(e=>{var t,l,a,n,r;return!(null==C?void 0:null===(t=C.max_price)||void 0===t?void 0:t.value)||"lowest"===e.value||(null==C?void 0:null===(l=C.max_price)||void 0===l?void 0:l.value)==="highest"||(null==C?void 0:null===(a=C.max_price)||void 0===a?void 0:a.value)&&(null==C?void 0:null===(n=C.max_price)||void 0===n?void 0:n.value)!=="highest"&&(null==e?void 0:e.value)<(null==C?void 0:null===(r=C.max_price)||void 0===r?void 0:r.value)}),secondValues:(0,d.bG)().secondValues.filter(e=>{var t,l,a,n,r;return!(null==C?void 0:null===(t=C.min_price)||void 0===t?void 0:t.value)||"highest"===e.value||(null==C?void 0:null===(l=C.min_price)||void 0===l?void 0:l.value)==="lowest"||(null==C?void 0:null===(a=C.min_price)||void 0===a?void 0:a.value)&&(null==C?void 0:null===(n=C.min_price)||void 0===n?void 0:n.value)!=="lowest"&&(null==e?void 0:e.value)>(null==C?void 0:null===(r=C.min_price)||void 0===r?void 0:r.value)}),firstSelectValue:null==C?void 0:C.min_price,secondSelectValue:null==C?void 0:C.max_price,onFirstSelect:e=>{M("min_price",e)},onSecondSelect:e=>{M("max_price",e)},onInitData:()=>{M("",{label:"",value:""},"price")}})}),(0,a.jsx)("div",{className:"col-span-2 md:col-span-1",children:S&&(0,a.jsx)(s.M6,{defaultValue:(null==C?void 0:C.location)||{},icon:(0,a.jsx)(i.L5z,{className:"w-5 h-5 mr-2 text-main"}),labelClass:"flex items-center relative text-black !text-sm ",label:"Zip Code or Location ",buttonClass:"bg-secondary-500 h-[44px]",iconClass:"!text-main",hideIcon:!0,onChange:e=>M("location",e)})}),(0,a.jsx)("div",{className:"col-span-2 md:col-span-1",children:(0,a.jsxs)(s.zx,{className:"flex items-center !justify-between !text-size-sm font-semibold w-full h-[44px]",onClick:k,children:[(0,a.jsx)("span",{children:"Search"}),(0,a.jsx)(o.RR_,{className:"text-lg"})]})})]})})})}),(0,a.jsxs)("div",{className:"main-container mx-auto main-padding-x mt-10",children:[(0,a.jsx)(c.zM,{carPopularBrands:((null==y?void 0:y.data)||[]).filter(e=>{var t;return null===(t=e.attributes)||void 0===t?void 0:t.luxury})}),(0,a.jsx)(x,{aggregates:R,title:"Top Makes",url:"/autos/results/:alias:/all"}),(0,a.jsx)(x,{aggregates:w,title:"Top Models",url:"/autos/results/:alias:"}),(0,a.jsx)(x,{aggregates:j,title:"Top Cities",url:"/autos/results/all/all/filter:location=:alias:"})]}),(0,a.jsx)("div",{className:"main-container mx-auto  main-padding-x",children:(0,a.jsx)(c.M7,{})})]})};var g=!0,y=h}},function(e){e.O(0,[2013,1778,5445,9285,260,3874,4617,9866,1057,3609,6556,322,1827,5675,5503,4041,9774,2888,179],function(){return e(e.s=9413)}),_N_E=e.O()}]);