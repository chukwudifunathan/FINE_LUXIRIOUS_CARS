var ClickBackRS;(function(n){function pi(){nr()&&(wi(),sj_evt.bind("load_clickback_rs",tt,!0),sj_evt.bind("ajax.unload",ti))}function wi(){var t,r,u,n,f,o;if(ct())i=e()?document.querySelectorAll([v,it].join(",")):document.querySelectorAll(v);else if(typeof _G!="undefined"&&((t=_G===null||_G===void 0?void 0:_G.EF)===null||t===void 0?void 0:t.clickbackRSonTopW)===1)i=e()?document.querySelectorAll([it,h,y].join(",")):document.querySelectorAll([h,y].join(","));else{if(n=_ge("b_results"),n==null)return;i=e()?n.querySelectorAll([it,h].join(",")):n.querySelectorAll(h)}i!=null&&(typeof _G!="undefined"&&((r=_G===null||_G===void 0?void 0:_G.EF)===null||r===void 0?void 0:r.clickbackRSonTopWFlare)===1&&(f=document.querySelectorAll(y),f&&f.length>0&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrstopwflare"])),o=ur(rt),typeof _w!="undefined"&&o&&(sj_be(_d,rt.visibilityChangedEventName,gt),sj_evt.bind("ajax.unload",ii)),b=document.querySelectorAll(si),lr(),di(),typeof _G!="undefined"&&((u=_G===null||_G===void 0?void 0:_G.EF)===null||u===void 0?void 0:u.clickbackRSAfterOnP1)===1?sj_evt.bind("onP1",function(){sb_st(dt,vi)}):dt(),sessionStorage[p]&&sessionStorage.removeItem(p),sessionStorage[w]&&sessionStorage.removeItem(w),tu())}function tt(){var n,r;if(k=ri(p),ut=ri(w),i&&k&&ut){for(t=null,n=0;n<i.length;n++)if(r=i[n],r&&k==r.getAttribute("href")&&ut==n.toString()){t=ot(r);break}if(t){if(e()){if(t.querySelector(".b_rs")||wr(t))return}else if(ct()&&(t.classList.contains("b_algoBorder")||ei(t)))return;bt()}}}function bi(){var n=document.querySelectorAll("#inline_rs .rslist .b_suggestionText"),i,t,r;if(!n||n.length===0)return"";for(i=[],t=0;t<n.length;t++)r=n[t].textContent,r&&i.push(r);return i.join(",")}function bt(n){var i,r,u,f,o,h;if((n===void 0&&(n=!1),!e()||((i=t===null||t===void 0?void 0:t.classList)===null||i===void 0?!void 0:!i.contains("b_ans"))||(yr()&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbRSOnAnswerFlare"]),!pr()))&&!ft&&t){if(f=t.querySelector(d),f){kt(f);return}(t===null||t===void 0?void 0:t.classList.contains("b_algo"))?(o=li.replace(/\&amp\;/g,"&")+"&IG="+_G.IG+"&url="+fr(t)+"&q="+ir()+"&iid="+t.getAttribute("iid")+"&boprs="+bi(),s("RSClickBackRequest",k||""),typeof _G!="undefined"&&((u=_G===null||_G===void 0?void 0:_G.EF)===null||u===void 0?void 0:u.clickbackAjaxRsFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsajaxflare"]),ft=!0,h=t,sj_ajax(o,{callback:function(i,r){var f,u,e;(ft=!1,t===h)&&(i&&r?(u=sj_ce("div"),r.appendTo(u),((f=u.querySelectorAll(d))===null||f===void 0?void 0:f.length)==1?(s("RSClickBackResponse","true"),tr()?a(n):(e=u.querySelector(d),a(n,e))):(a(n),s("RSClickBackResponse","false"))):(a(n),s("RSClickBackResponse","false")))}})):(typeof _G!="undefined"&&((r=_G===null||_G===void 0?void 0:_G.EF)===null||r===void 0?void 0:r.clickbackRsAdsFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsAdsFlare"]),a(n))}}function a(n,t){(n===void 0&&(n=!1),t===void 0&&(t=_ge(hi)),t)&&(r=t,ki(r),n?(r.classList.contains(c)||Lib.CssClass.add(r,c),r.style.height="0",r.style.overflow="hidden",r.style.transition="height ".concat(at,"ms"),r.classList.contains(u)&&Lib.CssClass.remove(r,u),et=!1,o=r,ni(r),s("RSHoverShow","Triggered"),Log.LogFilterFlare(["cbRSHover"]),sb_st(function(){r.style.height=r.scrollHeight+"px"},at)):kt(r))}function kt(n){if(n){o&&o!=n&&!o.classList.contains(u)&&Lib.CssClass.add(o,u);n.classList.contains(u)&&Lib.CssClass.remove(n,u);var t=n.offsetHeight;n.style.height=t+"px";et=!1;o=n;ni(n)}}function ki(n){var f,o,h,a,i,l;if(n&&t)if(n.classList.contains(c)||Lib.CssClass.add(n,c),n.classList.contains(u)||Lib.CssClass.add(n,u),s("Show","Triggered"),typeof _G!="undefined"&&((f=_G===null||_G===void 0?void 0:_G.EF)===null||f===void 0?void 0:f.clickbackRSFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsflare"]),a=t.offsetHeight-ci,Lib.CssClass.add(t,"qbrs"),t.setAttribute("data-oAH",a+"px"),!e()||t.classList.contains("sb_adTA")){if(i=t.querySelector(d),i){r=i;return}t.appendChild(n)}else{if(i=((h=(o=t.nextElementSibling)===null||o===void 0?void 0:o.classList)===null||h===void 0?void 0:h.contains(c))?t.nextElementSibling:null,i){r=i;return}Lib.CssClass.add(n,"b_ans");n.style.paddingTop="0";n.style.marginBottom="4px";n.style.marginTop="-4px";l=t.parentNode;l&&t.nextSibling&&l.insertBefore(n,t.nextSibling)}}function di(){var u,c,l,t,f,n,o,s,r,a;if(i)for(c=ct()||e()?i.length:i.length-1,l=function(n){var r=i[n],u,t;sj_be(r,"click",function(){st(r.getAttribute("href"),n.toString())});u=ot(r);t=u?u.querySelector(oi):null;t&&t!=lt&&sj_be(t,"click",function(){st(r.getAttribute("href"),n.toString())});lt=t},n=0;n<c;n++)l(n);if(typeof _G!="undefined"&&((u=_G===null||_G===void 0?void 0:_G.EF)===null||u===void 0?void 0:u.clickbackRSonAdAlgoFlare)===1&&(t=_d.querySelectorAll(v),f=_d.querySelectorAll([h,y].join(",")),t.length>0))for(n=0;n<t.length;n++){for(o=t[n],s=!0,r=0;r<f.length;r++)if(a=f[r],o.getAttribute("href")===a.getAttribute("href")){s=!1;break}s&&sj_be(o,"click",function(){Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsadalgoflare"])})}}function dt(){var t,n;if(b)for(t=0;t<b.length;t++)n=b[t],n.classList.contains("b_algoBorder")||(sj_be(n,"mouseover",or),sj_be(n,"mouseleave",sr),sj_be(n,"mouseout",hr))}function gi(n){n&&n&&!n.classList.contains(u)&&Lib.CssClass.add(n,u)}function gt(){tt()}function ni(n){var t,i,r;if(n&&(t=n.querySelector(".b_clickback_close, #rscar_close"),t)){for(i=0;i<l.length;i++)if(l[i].element===t){sj_ue(t,"click",l[i].handler);l.splice(i,1);break}r=function(){return gi(n)};l.push({element:t,handler:r});sj_be(t,"click",r)}}function ti(){sj_evt.unbind("load_clickback_rs",tt);sj_evt.unbind("ajax.unload",ti)}function ii(){sj_ue(_d,rt.visibilityChangedEventName,gt);sj_evt.unbind("ajax.unload",ii)}function nr(){var n="sschkad",t="sschvad",i;try{if(typeof Storage=="undefined"||typeof sessionStorage=="undefined"||(sessionStorage.setItem(n,t),i=sessionStorage.getItem(n),sessionStorage.removeItem(n),i!=t))return!1}catch(r){return!1}return!0}function ot(n){for(var t,i,u=Array.prototype.slice.call(document.querySelectorAll(v)),f=u.includes(n),r;n&&n.id!="b_results";){if(e()){if(f&&n.classList&&(n.classList.contains("b_algo")||n.classList.contains("sb_adTA"))||n.classList&&n.classList.contains("b_ans")&&(((t=n.parentElement)===null||t===void 0?void 0:t.id)==="b_results"||((i=n.parentElement)===null||i===void 0?void 0:i.id)==="b_topw"))return n}else if(n.classList&&(n.classList.contains("b_algo")||n.classList.contains("sb_adTA")))return n;if(r=n.parentElement,!r)break;n=r}return null}function ri(n){return sessionStorage[n]?sessionStorage.getItem(n):null}function st(n,t){sessionStorage.setItem(p,n);sessionStorage.setItem(w,t)}function tr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.clickbackRScflog!==undefined&&_G.EF.clickbackRScflog===1}function s(n,t){_w.sj_log&&sj_log("CI.RSSQB",n,t)}function ir(){return ui(window.location.search,"q")}function rr(){var i=undefined,r=undefined,t,n;if("hidden"in _d)i="hidden",r="visibilitychange";else for(t=["webkit","moz","ms","o"],n=0;n<t.length;n++)if(t[n]+"Hidden"in _d){i=t[n]+"Hidden";r=t[n]+"visibilitychange";break}return{hiddenProperty:i,visibilityChangedEventName:r}}function ur(n){return!!(n&&n.hiddenProperty&&n.visibilityChangedEventName)}function fr(n){var t,i;return n?(t=n.querySelector("h2 a"),!t)?null:(i=t.getAttribute("href"),!i)?null:er(i):null}function er(n){var t=ui(n,"u");if(!t||!t.startsWith("a1"))return n;try{return t=t.substring(2).replace(/_/g,"/").replace(/-/g,"+"),t=decodeURIComponent(atob(t))}catch(i){return Log.Log("EnLink",n,t,!1),n}}function ui(n,t){var r=new RegExp("[?&]{1}"+t+"=([^&]+)([\\/\\\\][^?#]*)?([?#].*)?","i"),i=n.match(r);return i?i[1]:""}function fi(n){if((!vt||!vt.matches)&&et&&!yt&&!pt&&!wt){var i=ot(n);i&&!ar(i)&&(t=i,g=sb_st(function(){cr()},ai))}}function or(n){f=n.currentTarget;ht();fi(f);f&&f.setAttribute("data-rs","true")}function sr(){ht();f&&f.removeAttribute("data-rs");f=null}function hr(n){ht();f&&f.removeAttribute("data-rs");fi(n.currentTarget)}function ht(){g&&sb_ct(g);g=null}function cr(){bt(!0)}function lr(){var f=document.querySelector(".b_rrsr"),n,t,i,r,u;f&&(n=typeof IntersectionObserver!="undefined"&&new IntersectionObserver(function(n){n.forEach(function(n){yt=n.isIntersecting})}),n&&n.observe(f));t=document.querySelector(".b_rs");t&&(i=typeof IntersectionObserver!="undefined"&&new IntersectionObserver(function(n){n.forEach(function(n){pt=n.isIntersecting})}),i&&i.observe(t));r=document.querySelector(".richrswrapper");r&&(u=typeof IntersectionObserver!="undefined"&&new IntersectionObserver(function(n){n.forEach(function(n){wt=n.isIntersecting})}),u&&u.observe(r))}function ar(n){return n.querySelector(".ad_hidenESL")?!0:!1}function ct(){var n;return typeof _G!="undefined"&&((n=_G===null||_G===void 0?void 0:_G.EF)===null||n===void 0?void 0:n.clickbackRSonAdAlgo)===1}function e(){return vr()&&document.querySelector("#b_results .b_adMiddle, #b_results .b_adBottom")!==null?!1:typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSOnAnswer!==undefined&&_G.EF.cbRSOnAnswer===1}function vr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRsOnAnswerNoAds!==undefined&&_G.EF.cbRsOnAnswerNoAds===1}function yr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSOnAnswerFlare!==undefined&&_G.EF.cbRSOnAnswerFlare===1}function pr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSOnAnswerCF!==undefined&&_G.EF.cbRSOnAnswerCF===1}function wr(n){var t,i,r=document.querySelector(".b_rs");return r?((t=n.classList)===null||t===void 0?void 0:t.contains("b_ans"))&&((i=n.nextElementSibling)===null||i===void 0?void 0:i.querySelector(".b_rs"))?!0:ei(n):!1}function ei(n){if(!n)return!1;var t=_d.querySelectorAll("#b_results > .b_algo, #b_topw .sb_adTA, #b_results .sb_adTA");return t.length>0&&t[t.length-1]===n?!0:!1}function br(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.autoShowCBRS===1}function kr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.autoShowCBRSFlare===1}function dr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.autoShowCBRSCF===1}function gr(){for(var i,n,r,u=document.querySelectorAll(".b_algo"),t=0;t<u.length;t++)if(i=u[t],n=i.getBoundingClientRect(),n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)&&(r=i.querySelector("h2 > a"),r))return r;return null}function nu(){var r=document.querySelector(".b_inline_ajax_rs"),u,t,n,f;if((!r||!(r.getBoundingClientRect().top>=0)||!(r.getBoundingClientRect().bottom<=(window.innerHeight||document.documentElement.clientHeight)))&&(u=gr(),u&&i&&(t=u.getAttribute("href"),t)))for(n=0;n<i.length;n++)if(f=i[n],f.getAttribute("href")===t){kr()&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["autoShowCBRSFlare"]);dr()||(st(t,n.toString()),tt());break}}function tu(){br()&&_d.addEventListener("visibilitychange",function(){nt&&(clearTimeout(nt),nt=null);_d.visibilityState==="hidden"&&(nt=setTimeout(function(){nu()},yi))})}var oi=".b_attribution cite, .b_tpcn, .b_adTopIcon_container",v="#b_results > .b_algo a,#b_topw .sb_adTA a,#b_results .sb_adTA a",h="#b_results > .b_algo > h2 > a,#b_results > .b_algo .sp-rn-title  > h2 > a,#b_results > .b_algo .b_imagePair  > h2 > a,#b_results > .b_algo > .b_title > h2 > a,#b_results .sb_adTA > h2 > a,#b_results .sb_adTA >.b_title > h2 > a",y="#b_topw .sb_adTA > h2 > a,#b_topw .sb_adTA >.b_title > h2 > a",si="#b_results > .b_algo,#b_results .sb_adTA",it="#b_results > .b_ans a",hi="inline_rs",u="b_hide",ci=14,rt=rr(),p="cbAdUrl",w="cbAdUrlIndex",i,b,lt=null,k=null,ut=null,t=null,ft=!1,li="/recoRS?",d=".b_inline_ajax_rs",c="b_inline_ajax_rs",o=null,r=null,ai=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.CBRSHT)?parseInt(_G.CBRSHT)||600:600,at=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.CBRSHTAM)?parseInt(_G.CBRSHTAM)||400:400,vi=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.CBRSHTonP1)?parseInt(_G.CBRSHTonP1)||3e3:3e3,vt=_w.matchMedia&&_w.matchMedia("(prefers-reduced-motion: reduce)"),et=!0,g=null,f=null,yt=!1,pt=!1,wt=!1,l=[],yi=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.AutoShowCBRSInterval)?parseInt(_G.AutoShowCBRSInterval)||3e5:3e5,nt=null;n.bindEvent=pi})(ClickBackRS||(ClickBackRS={}))